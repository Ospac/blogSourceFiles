---
layout: post
date: 2019-02-01
tags: [unity]
title: "Unity 04:평행이동과 좌표계, 부모-자식 설정"
category: Game
comment: true

---

<p>(<a href="https://www.udemy.com/retr0-unity/">retr0의 유니티 게임프로그래밍 에센스</a> 를 듣고 복습하는 내용입니다)</p>
<h2 id="평행이동과-좌표계-부모-자식-설정">평행이동과 좌표계, 부모 자식 설정</h2>
<p><strong>평행이동</strong></p>
<pre class=" language-csharp"><code class="prism  language-csharp">    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Mover</span> <span class="token punctuation">:</span> MonoBehaviour
	<span class="token punctuation">{</span>
		<span class="token keyword">public</span>  Vector3  move  <span class="token operator">=</span>  <span class="token keyword">new</span>  <span class="token class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
		<span class="token comment">//Vector의 연산, 현재위치에서 상대적으로 move만큼 이동하는 것</span>
		<span class="token comment">//but 직접 변수에 접근하지 않고 Translate으로 set이 가능 </span>
		<span class="token keyword">void</span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>Input<span class="token punctuation">.</span><span class="token function">GetKey</span><span class="token punctuation">(</span>KeyCode<span class="token punctuation">.</span>Space<span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
				<span class="token function">Move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">void</span> <span class="token function">Move</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			transform<span class="token punctuation">.</span><span class="token function">Translate</span><span class="token punctuation">(</span>move  <span class="token operator">*</span>  Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">//local 평행이동이 default</span>
			<span class="token comment">//두번쨰 인자에 Space.Self, Space.World를 넣는 것으로 local, global 이동 가능</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre>
<p><a href="https://docs.unity3d.com/ScriptReference/Transform.Translate.html">Transform.translate (unityDocs)</a></p>
<p><strong>Transform에 있는 좌표들은 Local Space를 기반으로 함</strong><br>
parent가 없는 object는 상대적인 기준이 없기 때문에 local이 곧 global space<br>
parent가 있다면 child의 local space는 parent object를 기준으로</p>
<p><img src="https://user-images.githubusercontent.com/31947480/52129953-45c74c00-267c-11e9-9666-aecb3b1065d6.png" alt="20190201_234329"><br>
Sun의 local Space는 Cube가 기준</p>
<p><img src="https://user-images.githubusercontent.com/31947480/52129956-46f87900-267c-11e9-8362-9817f39dbf08.png" alt="20190201_234354"><br>
Sun local Space 는 global Space가 기준이 되었음</p>
<p>마찬가지로 Cube-Sun이 parent-child 관계일때 Cube의 Scale을 바꾸면 Sun의 크기도 같이 바뀌지만 Sun의 scale 수치는 바뀌지 않는다.</p>
<p>sun의 Transform은 전적으로 Cube를 기준으로 한 것이기 때문</p>
<pre class=" language-csharp"><code class="prism  language-csharp">    <span class="token keyword">void</span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
	    transform<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    transform<span class="token punctuation">.</span>localPosition <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token comment">//transform.rotation</span>
	    <span class="token comment">//transform.localRotation</span>
	    <span class="token comment">//transform.lossyScale</span>
	    <span class="token comment">//transform.localScale</span>
    <span class="token punctuation">}</span>
</code></pre>
<p>코드 상에서 transform을 할때 local, global을 따로 건드릴 수 있다.</p>

